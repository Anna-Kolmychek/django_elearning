# Проект "Платформа онлайн-обучения"

## Запуск проекта

1. Скопируйте проект, установите виртуальное окружение и зависимости из `requirements.txt`.

2. В файле `config/settings.py` при необходимости измените настройки базы данных. 
В проекте используется локальный `postgresql`, база с именем `django_elearning`, 
пользователь `postgres` с входом для локального подключения без пароля
```
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': 'django_elearning',
        'USER': 'postgres',
    }
}
```

3. Создайте пустую базу данных с именем `django_elearning` (при локольном входе в `postgresql` без пароля):
```
psql -U postgres
create database django_elearning;
\q
```

4. Примените миграции
```
python3 manage.py migrate
```

5. При желании создайте суперпользователя и тестовые данные.
```
python3 manage.py create_su
python3 manage.py loaddata data_education_test.json
python3 manage.py create_test_payments
```

6. Запустите сервер
```
python3 manage.py runserver
```


## ДЗ 24.2 Сериализаторы

- Для модели курса в сериализатор добавлено 
  - вывод количества уроков в курсе
  - вывод списка уроков курса

- Добавлена кастомная команда для создания суперпользователя

- Создано новое приложение payments
  - описана модель по ТЗ
  - создана кастомная команда для тестовой записи платежей в БД (!!! для корректной работы
  в БД должен быть мимиум 1 пользователь, 1 урок и 1 курс !!!)
  - реализован CRUD через ViewSet
  - настроена фильтрация списка платежей с возможностями
    - менять порядок сортировки по дате оплаты
    - фильтровать по курсу или уроку
    - фильтровать по способу оплаты

- Для пользователя сделан вывод истории платежей


## Сделано ранее
### ДЗ 24.1 Вьюсеты и дженерики

- Создан gjango-проект, подчключен DRF

- Созданы приложения
  - users
  - eductaion

- Созданы модели
  - User (авторизация по email, расширено полями phone, city, photo) - в приложении users
  - Course - в приложении eductaion
  - Lesson - в приложении eductaion

- Реализован CRUD для модели Course через ViewSet

- Реализован CRUD для модели Lesson через Generic-классы

- Реализован CRUD для модели User через ViewSet 

